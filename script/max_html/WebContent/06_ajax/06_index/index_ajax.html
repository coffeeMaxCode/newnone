<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Ajax 수업</title>
<!-- CSS와 JS 외부에서 import하는 경우 수정했음에도 반영이 안되는 경우 발생
	페이지 이름 뒤에 ?(임의의 문자) 추가하여 get방식의 헛점(인터셉트)를 피해 테스트
	같은 요청건이면 브라우저가 인터셉트 : 서버에까지 전달이 안됨
	버퍼캐시에서 저장된 정보가 그대로 출력 = 수정된 내용 반영 되지 않음 -->
<link rel="stylesheet" type="text/css" href="../../Stylesheet/themes/default/easyui.css">
<link rel="stylesheet" type="text/css" href="../../Stylesheet/themes/icon.css">
<link rel="stylesheet" type="text/css" href="../../Stylesheet/demo/demo.css">
<script type="text/javascript" src="../../Stylesheet/js/jquery.min.js"></script>
<script type="text/javascript" src="../../Stylesheet/js/jquery.easyui.min.js"></script>
<!-- 네이버 자바스크립트 -->
<script type="text/javascript" src="https://static.nid.naver.com/js/naveridlogin_js_sdk_2.0.0.js" charset="utf-8"></script>

<script type="text/javascript" src="https://static.nid.naver.com/js/naverLogin_implicit-1.0.3.js" charset="utf-8"></script>
<script type="text/javascript" src="http://code.jquery.com/jquery-1.11.3.min.js"></script>
  
	<script type="text/javascript">

	function login(){
		$.ajax({
			method:"get"
		   ,url:"logininfo.jsp"
			 //loginAction.jsp페이지에서 처리된 결과 반환
		   ,success:function(data){
			   //alert(data);//김유신님 환영합니다.
		   	   $("#d_login").hide();
		   	   $("#s_name").text(data);
			   $("#d_logout").show();
		   }
		});
	}
	
	function logout(){
		alert("로그아웃")
		$("#d_login").show();
		$("#d_logout").hide();
	}
	</script>

</head>
<body>

	<script type="text/javascript">
	$(document).ready(function (){
		$("#d_logout").hide();
	});
	</script>
	
<% 자바코드는 JSP에서만 사용 가능하다 %>
<table width="900px" height="650px">
	<!-- top -->
	<tr>
	<td width="900px" height="50px">
		<table width="100%" height="100%" border="1" borderColor="red">
			<tr>
				<td align="center">Ajax Class</td>
			</tr>
		</table>
	</td>
	</tr>
	<!-- middle  -->
	<tr>
		<td width="900px" height="570px">
			<table>
			<tr>
			<!-- menu -->
				<td width="250px" height="570px">
					<table width="100%" height="100%" border="1" borderColor="orange">
					<tr>
						<td align="left" valign="top">
							<table border="1">
							<tr>
								<td height="20px">
									<!-- 로그인 -->
									<table>
									<tr><!-- 네이버아이디로로그인 버튼 노출 영역 -->
										<div id="naverIdLogin"></div>
										<!-- 네이버아디디로로그인 초기화 Script -->
										<script type="text/javascript">
											var naverLogin = new naver.LoginWithNaverId(
												{
													clientId: "aJRdt48vkyceRDt9cbVz",
													callbackUrl: "http://localhost:8000/06_ajax/06_index/index_ajax.html",
													isPopup: true, /* 팝업을 통한 연동처리 여부 */
													loginButton: {color: "green", type: 3, height: 60} /* 로그인 버튼의 타입을 지정 */
												}
											);
											
											/* 설정정보를 초기화하고 연동을 준비 */
											naverLogin.init();
										</script>
									</tr>
									<tr><!-- 네이버아이디로로그인 버튼 노출 영역 -->
										<div id="naver_id_login"></div>
										<script>
											var naver_id_login = new naver_id_login("aJRdt48vkyceRDt9cbVz"
																	, "http://localhost:8000/06_ajax/06_index/index_ajax.html");
										  	var state = naver_id_login.getUniqState();
										  	naver_id_login.setButton("white", 2,40);
										  	naver_id_login.setDomain("http://localhost:8000/06_ajax/06_index/index_ajax.html");
										  	naver_id_login.setState(state);
										  	naver_id_login.setPopup();
										  	naver_id_login.init_naver_id_login();
										  </script>
									</tr>
									<tr>
										<td><input class="easyui-textbox" id="tb_id"
											data-options="iconCls:'icon-man', prompt:'Enter you ID'"
											style="width: 170px"></td>
									</tr>
									<tr>
										<td><input class="easyui-textbox" id="tb_pw"
											data-options="iconCls:'icon-lock', prompt:'Enter you PW'"
											style="width: 170px"></td>
									</tr>
									<tr>
										<td><a id="btn" href="javascript:login()" class="easyui-linkbutton"
											data-options="width:170">Log-in</a></td>
									</tr>
									</table>
									</div>
									<!-- 로그아웃 -->
									<div id="d_logout">
									<table>
									<tr>
										<td>Welcome to Ajax!!</td>
									</tr>
									<tr>
										<td><a id="btn" href="javascript:logout()" class="easyui-linkbutton"
											data-options="width:170">Log-out</a></td>
									</tr>
									</table>
									</div>
								</td>
							</tr>
							<tr>
								<td height="20px">메뉴1</td>
							</tr>
							<tr>
								<td height="20px">메뉴2</td>
							</tr>
							</table>
						</td>
					</tr>
					</table>
				</td>
				<!-- body.html 시작 -->
				<td width="650px" height="570px">
					<table width="100%" height="100%" border="1" borderColor="green">
					<tr>
						<td>콘텐츠</td>
					</tr>
					</table>
				</td>
			</tr>
			</table>
		</td>
	</tr>
	<!-- bottom -->
	<tr>
		<td width="900px" height="30px">
			<table width="100%" height="100%" border="1" borderColor="blue">
				<tr>
					<td align="center">Max million</td>
				</tr>
			</table>
		</td>
	</tr>
</table>
</center>
</body>
</html>